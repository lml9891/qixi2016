"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}angular.module("qixi2016App",["qixi2016App.constants","ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router"]).config(["$urlRouterProvider","$locationProvider",function(n,t){n.otherwise("/"),t.html5Mode(!0)}]),angular.module("qixi2016App.util",[]),function(n,t){n.module("qixi2016App.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular);var _createClass=function(){function n(n,t){for(var a=0;a<t.length;a++){var e=t[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(t,a,e){return a&&n(t.prototype,a),e&&n(t,e),t}}();!function(){var n=function(){function n(t,a,e){_classCallCheck(this,n),this.$http=t,this.socket=e,this.awesomeThings=[],a.$on("$destroy",function(){e.unsyncUpdates("thing")})}return n.$inject=["$http","$scope","socket"],_createClass(n,[{key:"$onInit",value:function(){var n=this;this.$http.get("/api/things").then(function(t){n.awesomeThings=t.data,n.socket.syncUpdates("thing",n.awesomeThings)})}},{key:"addThing",value:function(){this.newThing&&(this.$http.post("/api/things",{name:this.newThing}),this.newThing="")}},{key:"deleteThing",value:function(n){this.$http["delete"]("/api/things/"+n._id)}}]),n}();angular.module("qixi2016App").component("main",{templateUrl:"app/main/main.html",controller:n})}(),angular.module("qixi2016App").config(["$stateProvider",function(n){n.state("main",{url:"/",template:"<main></main>"})}]),angular.module("qixi2016App").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(n,t){t.addClass("footer")}}});var NavbarController=function n(){_classCallCheck(this,n)};angular.module("qixi2016App").controller("NavbarController",NavbarController),angular.module("qixi2016App").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}}),angular.module("qixi2016App").factory("socket",["socketFactory",function(n){var t=io("",{path:"/socket.io-client"}),a=n({ioSocket:t});return{socket:a,syncUpdates:function(n,t,e){e=e||angular.noop,a.on(n+":save",function(n){var a=_.find(t,{_id:n._id}),i=t.indexOf(a),o="created";a?(t.splice(i,1,n),o="updated"):t.push(n),e(o,n,t)}),a.on(n+":remove",function(n){var a="deleted";_.remove(t,{_id:n._id}),e(a,n,t)})},unsyncUpdates:function(n){a.removeAllListeners(n+":save"),a.removeAllListeners(n+":remove")}}}]),function(){function n(n){var t={safeCb:function(n){return angular.isFunction(n)?n:angular.noop},urlParse:function(n){var t=document.createElement("a");return t.href=n,""===t.host&&(t.href=t.href),t},isSameOrigin:function(a,e){return a=t.urlParse(a),e=e&&[].concat(e)||[],e=e.map(t.urlParse),e.push(n.location),e=e.filter(function(n){var t=a.hostname===n.hostname,e=a.protocol===n.protocol,i=a.port===n.port||""===n.port&&("80"===a.port||"443"===a.port);return t&&e&&i}),e.length>=1}};return t}n.$inject=["$window"],angular.module("qixi2016App.util").factory("Util",n)}(),angular.module("qixi2016App").run(["$templateCache",function(n){n.put("app/main/main.html",'<header class="hero-unit" id="banner">\n  <div class="container">\n    <h1>\'Allo, \'Allo!</h1>\n    <p class="lead">Kick-start your next web app with Angular Fullstack</p>\n    <img src="assets/images/yeoman-462ccecbb1.png" alt="I\'m Yeoman">\n  </div>\n</header>\n\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12">\n      <h1 class="page-header">Features:</h1>\n      <ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in $ctrl.awesomeThings">\n        <li><a href="#" uib-tooltip="{{thing.info}}">{{thing.name}}<button type="button" class="close" ng-click="$ctrl.deleteThing(thing)">&times;</button></a></li>\n      </ul>\n    </div>\n  </div>\n\n  <form class="thing-form">\n    <label>Syncs in realtime across clients</label>\n    <p class="input-group">\n      <input type="text" class="form-control" placeholder="Add a new thing here." ng-model="$ctrl.newThing">\n      <span class="input-group-btn">\n        <button type="submit" class="btn btn-primary" ng-click="$ctrl.addThing()">Add New</button>\n      </span>\n    </p>\n  </form>\n</div>\n'),n.put("components/footer/footer.html",'<div class="container">\n  <p>Angular Fullstack v3.7.6 |\n    <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |\n    <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a>\n  </p>\n</div>\n'),n.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller="NavbarController">\n  <div class="container">\n    <div class="navbar-header">\n      <button class="navbar-toggle" type="button" ng-click="nav.isCollapsed = !nav.isCollapsed">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a href="/" class="navbar-brand">qixi2016</a>\n    </div>\n    <div uib-collapse="nav.isCollapsed" class="navbar-collapse collapse" id="navbar-main">\n      <ul class="nav navbar-nav">\n        <li ng-repeat="item in nav.menu" ui-sref-active="active">\n            <a ui-sref="{{item.state}}">{{item.title}}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n')}]);